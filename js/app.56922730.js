(function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],d=0,h=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0c37":function(e,t,n){},"21bb":function(e,t,n){"use strict";n("2dad")},"257e":function(e,t,n){},"2dad":function(e,t,n){},4803:function(e,t,n){"use strict";n("8426")},5228:function(e,t,n){"use strict";n("fdd3")},"5c0b":function(e,t,n){"use strict";n("9c0c")},7692:function(e,t,n){},8426:function(e,t,n){},"923e":function(e,t,n){},9623:function(e,t,n){"use strict";n("f641")},"9c0c":function(e,t,n){},c5a3:function(e,t,n){"use strict";n("0c37")},cd49:function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],o=(n("5c0b"),n("2877")),c={},s=Object(o["a"])(c,i,a,!1,null,null,null),u=s.exports,l=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e.isGameNotStarted?n("div",{staticClass:"game-stop"},[e.isGameOver?n("EndScreen",{on:{"reset-game":e.resetGame}}):e._e(),e.isStartScreenShown?n("StartScreen",{on:{"start-game":e.resetGame}}):e._e()],1):e._e(),n("Help",{on:{"show-toggle":e.onHelpToggle}}),e.isGameNotStarted?e._e():n("InGameDashboard"),n("SwipeableArea",{staticClass:"area",on:{movement:e.showMovement}},[n("Sides"),n("Pie",{ref:"pie",staticClass:"pie",attrs:{size:95}})],1)],1)},h=[],f=n("5530"),p=n("1da1"),v=n("d4ec"),b=n("bee2"),m=n("262e"),O=n("2caf"),g=(n("96cf"),n("9ab4")),j=n("1b40"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swipeable-area",on:{touchstart:e.onTouchStart,touchend:e.onTouchEnd}},[e._t("default")],2)},y=[],S=(n("caad"),n("2532"),n("2f62")),M=["isTouchDevice"],C=function(e){Object(m["a"])(n,e);var t=Object(O["a"])(n);function n(){var e;return Object(v["a"])(this,n),e=t.apply(this,arguments),e.beginTouch=null,e.endTouch=null,e.diffX=0,e.diffY=0,e}return Object(b["a"])(n,[{key:"onTouchStart",value:function(e){this.diffX=0,this.diffY=0,e.preventDefault(),this.beginTouch=e.touches.item(0)}},{key:"onTouchEnd",value:function(e){e.preventDefault(),this.endTouch=e.changedTouches.item(0),this.calculateMove()}},{key:"calculateMove",value:function(){var e=this.beginTouch,t=e.pageX,n=e.pageY,r=this.endTouch,i=r.pageX,a=r.pageY;this.diffX=i-t,this.diffY=a-n;var o,c=Math.abs(this.diffX),s=Math.abs(this.diffY);(s||c)&&(o=c>s?this.diffX>0?"right":"left":this.diffY>0?"down":"up",this.$emit("movement",o))}},{key:"handleKeys",value:function(e){if(!this.isTouchDevice){var t=null,n=e.code.toLowerCase();n.includes("up")&&(t="up"),n.includes("down")&&(t="down"),n.includes("left")&&(t="left"),n.includes("right")&&(t="right"),t&&this.$emit("movement",t)}}},{key:"mounted",value:function(){window.addEventListener("keydown",this.handleKeys)}},{key:"beforeDestroy",value:function(){window.removeEventListener("keydown",this.handleKeys)}}]),n}(j["c"]);C=Object(g["a"])([Object(j["a"])({computed:Object(f["a"])({},Object(S["d"])("general",M))})],C);var _=C,k=_,x=(n("5228"),Object(o["a"])(k,w,y,!1,null,null,null)),T=x.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pie-wrapper",class:[e.movementClass,{"pie-wrapper--hidden":e.isHidden,"pie-wrapper--animated":e.isMoving}],style:Object.assign({},e.wrapperStyle,e.movementStyle),attrs:{id:e.circleId}})},L=[],D=n("3835"),I=(n("99af"),n("d3b7"),n("a15b"),n("d81d"),n("4fad"),n("ec26")),A=n("898b"),E=["pieData","colors"],$=function(e){Object(m["a"])(n,e);var t=Object(O["a"])(n);function n(){var e;return Object(v["a"])(this,n),e=t.apply(this,arguments),e.circleId="circle_".concat(Object(I["a"])()),e.movementClass="",e.movementStyle={},e.isHidden=!0,e.isMoving=!1,e}return Object(b["a"])(n,[{key:"wrapperStyle",get:function(){return{width:"".concat(this.size,"px"),height:"".concat(this.size,"px")}}},{key:"getTranslate",value:function(e){var t=["down","right"].includes(e),n=["up","down"].includes(e)?"Y":"X",r=(t?1:-1)*("X"===n?window.innerWidth:window.innerHeight)/2;return"translate".concat(n,"(").concat(r,"px)")}},{key:"move",value:function(e){var t=this;return this.isMoving=!0,this.movementStyle={transform:this.getTranslate(e)},this.movementClass=e,new Promise((function(e){setTimeout((function(){t.isHidden=!0,t.isMoving=!1,t.movementClass="",t.movementStyle={},e()}),310)}))}},{key:"drawPie",value:function(){var e=this;this.isHidden=!1,A["c"]("#".concat(this.circleId," svg")).remove();var t=A["c"]("#".concat(this.circleId)).append("svg").attr("viewBox",[-this.size/2,-this.size/2,this.size,this.size].join(",")).attr("width",this.size),n=A["b"]().value((function(e){return e.valueOf()})),r=Object.entries(this.pieData).map((function(e){var t=Object(D["a"])(e,2),n=t[0],r=t[1];return{key:n,value:r,valueOf:function(){return r}}})),i=n(r),a=A["a"]();t.selectAll("path").data(i).enter().append("path").attr("d",(function(t){return a({innerRadius:0,outerRadius:e.size/2,startAngle:t.startAngle,endAngle:t.endAngle})})).attr("fill",(function(e,t){var n=i[t];return n.data.key}))}},{key:"newColors",value:function(){this.drawPie()}}]),n}(j["c"]);Object(g["a"])([Object(j["b"])({default:50})],$.prototype,"size",void 0),Object(g["a"])([Object(j["d"])("pieData")],$.prototype,"newColors",null),$=Object(g["a"])([Object(j["a"])({computed:Object(f["a"])({},Object(S["d"])("game",E))})],$);var G=$,R=G,H=(n("c5a3"),Object(o["a"])(R,P,L,!1,null,null,null)),z=H.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"help-wrapper"},[n("div",{staticClass:"help-icon",on:{click:e.toggleVisibility}},[e._v(" ? ")]),e.isHelpShown?n("div",{staticClass:"help-modal"},[n("div",{staticClass:"help-close",on:{click:e.toggleVisibility}},[e._v("close")]),n("div",{staticClass:"help-text"},[n("p",[e._v("You have 60 seconds")]),n("p",[e._v('Each time you will see a circle with two colors and condition at the top: "More" or "Less".')]),n("p",[e._v("Goal is to "+e._s(e.movementType)+" to the side with color having the bigger/smaller part in circle (according to condition).")]),e._m(0)])]):e._e()])},Y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Score earned is based on how difficult it is to detect correct color: "),n("br"),e._v(" situation with 51/49 will give much more points than 10/90 if guessed correctly.")])}],F=["isTouchDevice"],W=function(e){Object(m["a"])(n,e);var t=Object(O["a"])(n);function n(){var e;return Object(v["a"])(this,n),e=t.apply(this,arguments),e.isHelpShown=!1,e}return Object(b["a"])(n,[{key:"toggleVisibility",value:function(){this.isHelpShown=!this.isHelpShown,this.$emit("show-toggle",this.isHelpShown)}},{key:"movementType",get:function(){return this.isTouchDevice?"swipe":"press arrow key"}}]),n}(j["c"]);W=Object(g["a"])([Object(j["a"])({computed:Object(f["a"])({},Object(S["d"])("general",F))})],W);var N=W,B=N,K=(n("4803"),Object(o["a"])(B,X,Y,!1,null,"a05a5d72",null)),V=K.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"in-game-dashboard"},[n("TimeBar",{attrs:{color:e.scoreColor,"bar-width":e.barWidth}}),n("div",{staticClass:"stats"},[n("div",{staticClass:"score",style:{color:e.scoreColor}},[e._v(" "+e._s(e.score)+" ")])]),n("div",{staticClass:"condition",style:{color:e.conditionalColor}},[e._v(" "+e._s(e.moreOrLess)+" ")])],1)},J=[],Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time-bar",style:{background:e.color,width:e.barWidth+"px"}})},U=[],Z=n("2fe1"),ee=function(e){Object(m["a"])(n,e);var t=Object(O["a"])(n);function n(){return Object(v["a"])(this,n),t.apply(this,arguments)}return n}(j["c"]);Object(g["a"])([Object(j["b"])({required:!0})],ee.prototype,"color",void 0),Object(g["a"])([Object(j["b"])({required:!0})],ee.prototype,"barWidth",void 0),ee=Object(g["a"])([Z["b"]],ee);var te=ee,ne=te,re=(n("eaae"),Object(o["a"])(ne,Q,U,!1,null,"65fa2a72",null)),ie=re.exports,ae=60,oe=5,ce=250,se=["moreOrLess","scoreColor","conditionalColor","score","secondsLeft"],ue=function(e){Object(m["a"])(n,e);var t=Object(O["a"])(n);function n(){var e;return Object(v["a"])(this,n),e=t.apply(this,arguments),e.step=window.innerWidth/ae,e}return Object(b["a"])(n,[{key:"barWidth",get:function(){return Math.min(window.innerWidth,this.step*this.secondsLeft)}}]),n}(j["c"]);ue=Object(g["a"])([Object(j["a"])({components:{TimeBar:ie},computed:Object(f["a"])({},Object(S["d"])("game",se))})],ue);var le=ue,de=le,he=(n("ebfe"),Object(o["a"])(de,q,J,!1,null,null,null)),fe=he.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"start-screen"},[n("p",[e._v("Click button below to start game")]),n("p",[e._v('For more details and rules click "?" button in the bottom left corner')]),n("div",{staticClass:"restart-btn",on:{click:function(t){return e.$emit("start-game")}}},[e._v("Start game")])])},ve=[],be=function(e){Object(m["a"])(n,e);var t=Object(O["a"])(n);function n(){return Object(v["a"])(this,n),t.apply(this,arguments)}return n}(j["c"]);be=Object(g["a"])([j["a"]],be);var me=be,Oe=me,ge=(n("9623"),Object(o["a"])(Oe,pe,ve,!1,null,null,null)),je=ge.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"end-screen"},[n("p",[e._v("Seconds played: "+e._s(e.totalSecondsPlayed))]),n("p",[e._v("Score: "+e._s(e.score))]),n("div",{staticClass:"restart-btn",on:{click:function(t){return e.$emit("reset-game")}}},[e._v("Play again")])])},ye=[],Se=["score","totalSecondsPlayed"],Me=function(e){Object(m["a"])(n,e);var t=Object(O["a"])(n);function n(){return Object(v["a"])(this,n),t.apply(this,arguments)}return n}(j["c"]);Me=Object(g["a"])([Object(j["a"])({computed:Object(f["a"])({},Object(S["d"])("game",Se))})],Me);var Ce=Me,_e=Ce,ke=Object(o["a"])(_e,we,ye,!1,null,"c3e6f69a",null),xe=ke.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"vertical"===e.direction?n("div",[n("div",{staticClass:"top-choice",style:{background:e.colors[0]}}),n("div",{staticClass:"bottom-choice",style:{background:e.colors[1]}})]):n("div",[n("div",{staticClass:"left-choice",style:{background:e.colors[0]}}),n("div",{staticClass:"right-choice",style:{background:e.colors[1]}})])},Pe=[],Le=["colors","direction"],De=function(e){Object(m["a"])(n,e);var t=Object(O["a"])(n);function n(){return Object(v["a"])(this,n),t.apply(this,arguments)}return n}(j["c"]);De=Object(g["a"])([Object(j["a"])({computed:Object(f["a"])({},Object(S["d"])("game",Le))})],De);var Ie=De,Ae=Ie,Ee=(n("e107"),Object(o["a"])(Ae,Te,Pe,!1,null,null,null)),$e=Ee.exports,Ge=["secondsLeft","totalSecondsPlayed"],Re=["selectConditionMutation","setSecondsLeftMutation","setScoreMutation","setTotalSecondsPlayedMutation"],He=["checkCorrectAnswerAction","prepareRoundAction"],ze=function(e){Object(m["a"])(n,e);var t=Object(O["a"])(n);function n(){var e;return Object(v["a"])(this,n),e=t.apply(this,arguments),e.isMoving=!1,e.isGameOver=!1,e.isStartScreenShown=!0,e}return Object(b["a"])(n,[{key:"mounted",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.prepareRoundAction();case 2:this.selectConditionMutation("");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetGame",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.selectConditionMutation(""),this.isStartScreenShown=!1,this.isGameOver=!1,this.setSecondsLeftMutation(ae),this.setScoreMutation(0),this.setTotalSecondsPlayedMutation(0),e.next=8,this.prepareRoundAction();case 8:this.countSeconds();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"countSeconds",value:function(){var e=this;clearInterval(this.timeIntervalId),this.isStartScreenShown||this.isGameOver||(this.timeIntervalId=setInterval((function(){e.setSecondsLeftMutation(e.secondsLeft-1),e.setTotalSecondsPlayedMutation(e.totalSecondsPlayed+1),(!e.secondsLeft||e.secondsLeft<0)&&(clearInterval(e.timeIntervalId),e.isGameOver=!0,e.setSecondsLeftMutation(0))}),1e3))}},{key:"isGameNotStarted",get:function(){return this.isStartScreenShown||this.isGameOver}},{key:"checker",value:function(e){e&&this.selectConditionMutation("")}},{key:"onHelpToggle",value:function(e){e?clearInterval(this.timeIntervalId):this.countSeconds()}},{key:"showMovement",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isMoving&&!this.isGameNotStarted){e.next=2;break}return e.abrupt("return");case 2:return this.isMoving=!0,n=this.$refs.pie,e.next=6,n.move(t);case 6:return e.next=8,this.checkCorrectAnswerAction(t);case 8:return e.next=10,this.prepareRoundAction();case 10:this.isMoving=!1;case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(j["c"]);Object(g["a"])([Object(j["d"])("isGameNotStarted")],ze.prototype,"checker",null),ze=Object(g["a"])([Object(j["a"])({components:{Sides:$e,EndScreen:xe,StartScreen:je,Help:V,Pie:z,SwipeableArea:T,InGameDashboard:fe},methods:Object(f["a"])(Object(f["a"])({},Object(S["c"])("game",Re)),Object(S["b"])("game",He)),computed:Object(f["a"])({},Object(S["d"])("game",Ge))})],ze);var Xe=ze,Ye=Xe,Fe=(n("21bb"),Object(o["a"])(Ye,d,h,!1,null,null,null)),We=Fe.exports;r["a"].use(l["a"]);var Ne=[{path:"/",name:"Home",component:We}],Be=new l["a"]({mode:"history",base:"/",routes:Ne}),Ke=Be,Ve={isTouchDevice:"ontouchstart"in window},qe={namespaced:!0,state:Ve};n("07ac"),n("159b"),n("c740"),n("fb6a"),n("25f0");function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=new Array(t).join("0");return(n+e).slice(-t)}function Qe(e,t){0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var n=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),i=parseInt(e.slice(4,6),16);return t?.299*n+.587*r+.114*i>186?"#000000":"#FFFFFF":(n=(255-n).toString(16),r=(255-r).toString(16),i=(255-i).toString(16),"#"+Je(n)+Je(r)+Je(i))}function Ue(){var e=Math.floor(255*Math.random()).toString(16),t=Math.floor(255*Math.random()).toString(16),n=Math.floor(255*Math.random()).toString(16),r=["#",Je(e),Je(t),Je(n)].join(""),i=Qe(r);return[r,i]}function Ze(e){if(!e)return 1;var t=Object.values(e),n=Object(D["a"])(t,2),r=n[0],i=n[1],a=Math.abs(r-i);return 1/a}var et={score:0,secondsLeft:ae,totalSecondsPlayed:0,colors:[],direction:"vertical",scoreColor:"",conditionalColor:"",moreOrLess:"",pieData:{}},tt={generatePieDataMutation:function(e){var t={};e.colors.map((function(e){t[e]=Math.random()})),e.pieData=t},selectConditionMutation:function(e,t){e.moreOrLess=t||(Math.random()>.5?"more":"less")},selectDirectionMutation:function(e){e.direction=Math.random()>.5?"vertical":"horizontal"},generateColorsMutation:function(e){e.colors=Ue(),e.scoreColor=Qe(e.colors["horizontal"===e.direction?1:0],!0),e.conditionalColor="vertical"===e.direction?Qe(e.colors[0],!0):"#000000"},setScoreMutation:function(e,t){e.score=t},setSecondsLeftMutation:function(e,t){e.secondsLeft=t},setTotalSecondsPlayedMutation:function(e,t){e.totalSecondsPlayed=t},changeScoreAndTimeMutation:function(e,t){var n=Ze(e.pieData),r=t.isCorrectChoice,i=r?1:-1,a=i?1.3:1.3*n,o=e.secondsLeft+i*a;e.score=Math.floor(e.score+i*Math.min(oe*n,ce)),e.secondsLeft=Math.min(ae,o)}},nt={checkCorrectAnswerAction:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function n(){var r,i,a,o,c,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.state,i=e.commit,r.pieData){n.next=3;break}return n.abrupt("return");case 3:a="more"===r.moreOrLess?Math.max:Math.min,Object.entries(r.pieData).forEach((function(e){var t=Object(D["a"])(e,2),n=t[0],r=t[1];o&&a(o.value,r)!==r||(o={color:n,value:r})})),c=r.colors.findIndex((function(e){return e===o.color})),s="vertical"===r.direction?["up","down"]:["left","right"],u=s[c],i("changeScoreAndTimeMutation",{isCorrectChoice:t===u});case 9:case"end":return n.stop()}}),n)})))()},prepareRoundAction:function(e){return Object(p["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,n("selectDirectionMutation"),n("selectConditionMutation"),n("generateColorsMutation"),n("generatePieDataMutation");case 5:case"end":return t.stop()}}),t)})))()}},rt={namespaced:!0,state:et,mutations:tt,actions:nt};r["a"].use(S["a"]);var it=new S["a"].Store({modules:{general:qe,game:rt}});r["a"].config.productionTip=!1,new r["a"]({router:Ke,store:it,render:function(e){return e(u)}}).$mount("#app")},e107:function(e,t,n){"use strict";n("7692")},eaae:function(e,t,n){"use strict";n("257e")},ebfe:function(e,t,n){"use strict";n("923e")},f641:function(e,t,n){},fdd3:function(e,t,n){}});
//# sourceMappingURL=app.56922730.js.map